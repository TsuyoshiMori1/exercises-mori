# i1

## 予想

1秒後、ログに42を出力し、さらにその2秒後に100を出力する。

## 結果

```
42
100
```

## 説明

1回目のawait による呼び出しで、wait1が解決し、1秒後に43を返し、vに代入され、logで出力される。
次にawait wait2が呼ばれ、wait2が解決する間にvのwait2が解決し、100がvに代入される。wait2が解決したｒ、logで出力される。

# i2

## 予想

1秒後にCを出力。その1秒後にBを出力。その1秒後にAを出力する。
最後に配列[A,B,C]を出力する。

## 結果

```
// 1秒後
C
// 1秒後
B
// 1秒後
A
[ 'A', 'B', 'C' ]
```

## 説明

await Promise.allで配列のPromiseが同時に実行する。
待機時間が早い順に、C,B,Aとログに出力される。
vには、コードの順番で結果が格納される。

# i3

## 予想

1秒後にYと42を出力する。
3秒後に42を出力する。

## 結果

```
// 1秒後
Y
42
// 1秒後
B
// 2秒後
0
```

## 説明

wait1が解決され、エラーYがスローされる。
すぐにcatchされ、エラーメッセージYと、vの値42がログに出力される。
しかし、他のPromiseは中断していない。
wait3が解決する間にwait2が解決し、ログにBが出力される。
次にwait3が解決し、vに0を代入する。エラーXをスローするが、既に失敗しているのでcatchにはいかない。

# i4

## 予想

5秒後に0を出力
4秒後に1を出力
3秒後に2を出力
2秒後に3を出力
1秒後に4とCOMPLETEを出力

## 結果

```
// 5秒後
0
// 4秒後
1
// 3秒後
2
// 2秒後
3
// 1秒後
4
COMPLETED
```

## 説明

for文のループで、順番にPromiseが満たされるのを待つ。
ループを抜けた後、すぐにCOMPLETEを出力する。

# i5

## 予想

COMPLETEDを出力した後、1秒後に4を出力。続けて1秒ごとに3,2,1,0と出力する。

```
COMPLETED
// 1秒後
4
// 1秒後
3
// 1秒後
2
// 1秒後
1
// 1秒後
0
```

## 結果

```
COMPLETED
// 1秒後
4
// 1秒後
3
// 1秒後
2
// 1秒後
1
// 1秒後
0
```

## 説明

チェーンせずに新しくwaitを開始しているため、for文のループはwaitの解決を待たずに終了し、COMPLETEDを出力する。
ほぼ同時にwaitを開始するので、待ち時間が短い順に解決し、ログに出力する。

# i6

## 予想

1秒後に4を出力。続けて1秒ごとに3,2,1,0と出力する。
最後にCOMPLETEDを出力する。

```
4
// 1秒後
3
// 1秒後
2
// 1秒後
1
// 1秒後
0
// 1秒後
COMPLETED
```

## 結果

```
4
// 1秒後
3
// 1秒後
2
// 1秒後
1
// 1秒後
0
// 1秒後
COMPLETED
```

## 説明

Promise.allで同時に開始する。
waitの時間が少ない順に解決し、ログに値を出力する。
全てのPromiseが解決し、最後にCOMPLETEDを出力する。

# i7

## 予想

9秒後に10を出力する

## 結果

```
// 9秒後
10
```

## 説明

p1とp2が同時に開始する。p1はwait1で1秒待つため、p2から順に、p1と交互に1秒間隔でvを1インクリメントしていく。
9秒後に解決し、ログに合計値である10が出力される。

ログを入れた時の動き

```
p2: v = 1
p1: v = 2
p2: v = 3
p1: v = 4
p2: v = 5
p1: v = 6
p2: v = 7
p1: v = 8
p2: v = 9
p1: v = 10
p2 completed
p1 completed
10
```

# i8

## 予想

9秒後に5を出力

## 結果

```
// 9秒後
5
```

## 説明

for文の開始時にvの値を読み込み、wait2が解決したらインクリメントするため、間にもう片方のPromiseがインクリメントした結果を無視して、自身のインクリメント結果で上書きする。
互いに上書きし合い、結果としてp1の実行結果の5で完了する。

ログを入れた時の動き

```
p2: v = 1
p1: v = 1
p2: v = 2
p1: v = 2
p2: v = 3
p1: v = 3
p2: v = 4
p1: v = 4
p2: v = 5
p2 completed
p1: v = 5
p1 completed
5
```
